let postAPI = require('../../utils/api.js'); const app = getApp(); Page({ data: { userInfo: '' }, onLoad: function () { this.getUserInfo() }, getUserInfo: function () { wx.showLoading({ title: '加载中...', mask: true }); postAPI.post('/p/person/getDetail', { token: app.globalData.userId }, this.getDataSuccess, this.getDataFail, 0) }, getDataSuccess: function (res) { let that = this; wx.hideLoading();if(res.code == 0) { that.setData({ userInfo: res.item }) } else { app.showResultToast(res, 'info') } }, getDataFail: function (res) { wx.hideLoading(); app.showResultToast(res, 'warn') }, goMyCard: function (e) { wx.navigateTo({ url: '../card/card', }) }, goCollect: function (e) { wx.navigateTo({ url: '../collect/collect', }) } })